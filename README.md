## Задание 1

### Краткое описание инцидента (краткая выжимка о инциденте)

В 22:52 (21.10) по UTC на нескольких сервисах GitHub.com пострадали несколько сетевых разделов и последующим сбоем базы данных, что привело к появлению непоследовательной информации на нашем веб-сайте. В качестве предосторожности мы предприняли шаги для обеспечения целостности ваших данных, включая приостановку работы событий (hooks) и других внутренних систем обработки.

### Предшествующие события (что произошло перед инцидентом)

Плановая работа по замене отказавшего сетевого оборудования.

### Причина инцидента (из-за чего возник инцидент)

Разрыв соединения между US East Coast network hub и первичным US East Coast data center на 43 секунды

### Воздействие (на что повлиял инцидент)

Кратковерменный разрыв соединения повлиял на последующую череду событий сказавшуюся на работe кластеров MySQL.

### Обнаружение (когда и как инцидент был обнаружен)

23:02 UTC Инженерами первой команды реагирования было отмечено, что большое количество кластеров баз данных находятся в ненадлежащем состоянии.

### Реакция (кто ответил на инцидент, кто был привлечен, какие каналы коммуникации были задействованы)

Команда реагирования вручную остановила средства внутренней разработки, перевела сайт в жёлтый режим, что автоматически ситуация эскалировалась до вмешательства инцидент-координатора, который перевёл статус в красный.

### Восстановление (описание действий по устранению инцидента и поведение системы)

Были произведены действия по восстановлению баз данных из долгосрочных бэкапов с последующей синхронизацией изменений.

### Таймлайн (последовательное описание ключевых событий инцидента с указанием времени)

- 2018 October 21 22:52 UTC Разрыв сетевого соединения
- 2018 October 21 22:54 UTC Алерты многочисленных ошибок
- 2018 October 21 23:02 UTC Команада реагирования отмечает проблемы с кластерами баз данных
- 2018 October 21 23:07 UTC ручная остановка средств внутренней разработки
- 2018 October 21 23:09 UTC перевод сайта в режим жёлтый
- 2018 October 21 23:11 UTC вмешательство инцидент-координатора и перевод режима в красный
- 2018 October 21 23:13 UTC подключение дополнительных инжеров к решению проблемы
- 2018 October 21 23:19 UTC определили, что необходима остановка задач по записи метаданных в базы данных
- 2018 October 22 00:05 UTC вовлечённые инженеры приступили к разработке плана по восстановлению из бэкапов и синхронизации
- 2018 October 22 00:41 UTC запуск процесса востановлению из бэкапов
- 2018 October 22 06:51 UTC часть кластеров восстановилась из бэкапов
- 2018 October 22 07:46 UTC публикация извещения о наличии проблем
- 2018 October 22 11:12 UTC перемещение первичной бд в US East Coast
- 2018 October 22 13:15 UTC ожидание пика трафика на 2018 October 22 13:15 UTC, увеличение числа реплик бд на чтение.
- 2018 October 22 16:24 UTC реплики прошли синхронизацию, перевод на исходную топологию
- 2018 October 22 16:45 UTC балансировка возросшей нагрузки, ожидание окончательной нормализации работы сервисов
- 2018 October 22 23:03 UTC подтвержено востановление работы всех систем

### Последующие действия (что нужно предпринять, чтобы инцидент не повторялся)

- сконфигурировать Оркестраторы. Запрет назначения первичной БД в другом регионе.  
- увеличить скорость назначения статусов механизма отчётов. Улучшение системы мониторинга.
- повышение отказоустойчивости на уровне ДЦ до N+1.
- придерживаться более проактивной позиции при тестировании стабильности системы.

Для неповторения таких ситуаций необходимо внедрение систематических учений по предотвращению различных аварийных сценариев.
